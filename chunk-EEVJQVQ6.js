import{b as Z,c as a,e as H,f as J,g as I,h as c,j as K,k as Q,l as W,n as X,o as Y,p as ee,q as re,r as te,s as ie,t as ne,u as oe,v as le,w as se}from"./chunk-2USAG3GY.js";import{p as z,q as B}from"./chunk-EM3OHNVD.js";import{h as G,i as O,p as U}from"./chunk-2DMQBI2T.js";import"./chunk-Q64FFBLU.js";import"./chunk-XZZS7UHB.js";import{Cb as j,Db as V,Eb as D,Ja as s,Ka as M,M as L,_a as m,aa as E,ab as l,cb as g,eb as R,fb as u,gb as S,hb as q,ib as n,j as k,nb as $,ob as d,wb as A}from"./chunk-KRDMLW7E.js";var ae=()=>["/login"];function me(e,o){e&1&&n(0,"app-error-message",15),e&2&&l("message","Username must be at least 4 characters long")}function ue(e,o){e&1&&n(0,"app-error-message",15),e&2&&l("message","Username must be at most 25 characters long")}function pe(e,o){e&1&&n(0,"app-error-message",15),e&2&&l("message","Username is required")}function ge(e,o){if(e&1&&m(0,me,1,1,"app-error-message",15)(1,ue,1,1)(2,pe,1,1),e&2){let r,i=d();u(0,!((r=i.registerForm.get("username"))==null||r.errors==null)&&r.errors.minlength?0:!((r=i.registerForm.get("username"))==null||r.errors==null)&&r.errors.maxlength?1:!((r=i.registerForm.get("username"))==null||r.errors==null)&&r.errors.required?2:-1)}}function de(e,o){e&1&&n(0,"app-error-message",15),e&2&&l("message","First Name must be at least 4 characters long")}function ce(e,o){e&1&&n(0,"app-error-message",15),e&2&&l("message","First Name must be at most 20 characters long")}function _e(e,o){e&1&&n(0,"app-error-message",15),e&2&&l("message","First Name is required")}function fe(e,o){if(e&1&&m(0,de,1,1,"app-error-message",15)(1,ce,1,1)(2,_e,1,1),e&2){let r,i=d();u(0,!((r=i.registerForm.get("firstName"))==null||r.errors==null)&&r.errors.minlength?0:!((r=i.registerForm.get("firstName"))==null||r.errors==null)&&r.errors.maxlength?1:!((r=i.registerForm.get("firstName"))==null||r.errors==null)&&r.errors.required?2:-1)}}function he(e,o){e&1&&n(0,"app-error-message",15),e&2&&l("message","Last Name must be at least 4 characters long")}function Ce(e,o){e&1&&n(0,"app-error-message",15),e&2&&l("message","Last Name must be at most 20 characters long")}function Fe(e,o){e&1&&n(0,"app-error-message",15),e&2&&l("message","Last Name is required")}function ye(e,o){if(e&1&&m(0,he,1,1,"app-error-message",15)(1,Ce,1,1)(2,Fe,1,1),e&2){let r,i=d();u(0,!((r=i.registerForm.get("lastName"))==null||r.errors==null)&&r.errors.minlength?0:!((r=i.registerForm.get("lastName"))==null||r.errors==null)&&r.errors.maxlength?1:!((r=i.registerForm.get("lastName"))==null||r.errors==null)&&r.errors.required?2:-1)}}function we(e,o){e&1&&n(0,"app-error-message",15),e&2&&l("message","Please enter a valid email address")}function ve(e,o){e&1&&n(0,"app-error-message",15),e&2&&l("message","Email is required")}function Ne(e,o){if(e&1&&m(0,we,1,1,"app-error-message",15)(1,ve,1,1),e&2){let r,i=d();u(0,!((r=i.registerForm.get("email"))==null||r.errors==null)&&r.errors.email?0:!((r=i.registerForm.get("email"))==null||r.errors==null)&&r.errors.required?1:-1)}}function be(e,o){e&1&&n(0,"app-error-message",15),e&2&&l("message","Password must be at least 6 characters long and contain at least one letter and one special character")}function Te(e,o){e&1&&n(0,"app-error-message",15),e&2&&l("message","Password is required")}function Pe(e,o){if(e&1&&m(0,be,1,1,"app-error-message",15)(1,Te,1,1),e&2){let r,i=d();u(0,!((r=i.registerForm.get("password"))==null||r.errors==null)&&r.errors.pattern?0:!((r=i.registerForm.get("password"))==null||r.errors==null)&&r.errors.required?1:-1)}}function xe(e,o){e&1&&n(0,"app-error-message",15),e&2&&l("message","Passwords do not match")}function Re(e,o){e&1&&n(0,"app-error-message",15),e&2&&l("message","confirmPassword is required")}function Se(e,o){if(e&1&&m(0,xe,1,1,"app-error-message",15)(1,Re,1,1),e&2){let r,i=d();u(0,!((r=i.registerForm.get("confirmPassword"))==null||r.errors==null)&&r.errors.passwordMismatch?0:!((r=i.registerForm.get("confirmPassword"))==null||r.errors==null)&&r.errors.required?1:-1)}}function Me(e,o){e&1&&n(0,"app-error-message",15),e&2&&l("message","Please enter a valid phone number")}function qe(e,o){e&1&&n(0,"app-error-message",15),e&2&&l("message","phone is required")}function Ae(e,o){if(e&1&&m(0,Me,1,1,"app-error-message",15)(1,qe,1,1),e&2){let r,i=d();u(0,!((r=i.registerForm.get("phone"))==null||r.errors==null)&&r.errors.pattern?0:!((r=i.registerForm.get("phone"))==null||r.errors==null)&&r.errors.required?1:-1)}}var We=(()=>{class e{constructor(r,i,t,p){this.router=r,this._ngxAuthApiService=i,this.messageService=t,this._authService=p,this.registerForm=new I({}),this.destroy$=new k,this.loading=!1}ngOnInit(){this.registerForm=new I({username:new c(null,[a.required,a.minLength(4),a.maxLength(25)]),firstName:new c(null,[a.required,a.minLength(4),a.maxLength(20)]),lastName:new c(null,[a.required,a.minLength(4),a.maxLength(20)]),email:new c(null,[a.email,a.required]),password:new c(null,[a.required,a.pattern(/^(?=.*[A-Za-z])(?=.*[@$!%*#?&^_-]).{8,}/)]),confirmPassword:new c(null,[a.required,this._authService.passwordMatchValidator()]),phone:new c(null,[a.required,a.pattern("^01[0,1,2,5][0-9]{8}$")])}),this.registerForm.get("password")?.valueChanges.pipe(L(this.destroy$)).subscribe(()=>this.registerForm.get("confirmPassword")?.updateValueAndValidity())}submit(){this.loading=!0,this._ngxAuthApiService.register(this.registerForm.value).pipe(L(this.destroy$)).subscribe({next:r=>{r.message==="success"&&(this.loading=!1,this.messageService.add({severity:"success",summary:"Success",detail:r.message}),setTimeout(()=>{this.router.navigate(["/login"])},2e3))},error:r=>{this.loading=!1,this.messageService.add({severity:"error",summary:"Error",detail:r.error.message})}})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static{this.\u0275fac=function(i){return new(i||e)(M(G),M(le),M(U),M(se))}}static{this.\u0275cmp=E({type:e,selectors:[["app-register"]],standalone:!0,features:[j([]),V],decls:26,vars:41,consts:[[1,"register","flex","flex-column"],[1,"register-header","mb-5","mt-0"],["position","top-center"],[3,"ngSubmit","formGroup"],[1,"card","flex","w-full","flex-column","justify-content-center"],["type","text","placeholder","Username","pInputText","","formControlName","username",1,"w-full","inter","inter-500"],["type","text","placeholder","First Name","pInputText","","formControlName","firstName",1,"w-full","inter","inter-500"],["type","text","placeholder","Last Name","pInputText","","formControlName","lastName",1,"w-full","inter","inter-500"],["type","email","placeholder","Email","pInputText","","formControlName","email",1,"w-full","inter","inter-500"],["formControlName","password","placeholder","Password",3,"styleClass","toggleMask"],["formControlName","confirmPassword","placeholder","Confirm Password",3,"styleClass","toggleMask"],["type","text","placeholder","Phone","pInputText","","formControlName","phone",1,"w-full","inter","inter-500"],[1,"m-auto","m-0","register-hasAccount","poppins","poppins-400"],[1,"register-hasAccount_login",3,"routerLink"],["label","Create Account",3,"type","loading","disabled"],[3,"message"]],template:function(i,t){if(i&1&&(S(0,"div",0)(1,"h2",1),A(2,"Sign up"),q(),n(3,"p-toast",2),S(4,"form",3),$("ngSubmit",function(){return t.submit()}),S(5,"div",4),n(6,"input",5),m(7,ge,3,1),n(8,"input",6),m(9,fe,3,1),n(10,"input",7),m(11,ye,3,1),n(12,"input",8),m(13,Ne,2,1),n(14,"p-password",9),m(15,Pe,2,1),n(16,"p-password",10),m(17,Se,2,1),n(18,"input",11),m(19,Ae,2,1),S(20,"p",12),A(21,"Already have an account? "),S(22,"span",13),A(23,"Login"),q()(),n(24,"app-button",14),q()(),n(25,"app-register-methods"),q()),i&2){let p,_,f,h,C,F,y,w,v,N,b,T,P,x;s(4),l("formGroup",t.registerForm),s(2),R("ng-invalid ng-dirty"),g("mb-5",!((p=t.registerForm.get("username"))!=null&&p.errors&&((p=t.registerForm.get("username"))!=null&&p.touched||(p=t.registerForm.get("username"))!=null&&p.dirty))),s(),u(7,(_=t.registerForm.get("username"))!=null&&_.errors&&((_=t.registerForm.get("username"))!=null&&_.touched||(_=t.registerForm.get("username"))!=null&&_.dirty)?7:-1),s(),R("ng-invalid ng-dirty"),g("mb-5",!((f=t.registerForm.get("firstName"))!=null&&f.errors&&((f=t.registerForm.get("firstName"))!=null&&f.touched||(f=t.registerForm.get("firstName"))!=null&&f.dirty))),s(),u(9,(h=t.registerForm.get("firstName"))!=null&&h.errors&&((h=t.registerForm.get("firstName"))!=null&&h.touched||(h=t.registerForm.get("firstName"))!=null&&h.dirty)?9:-1),s(),R("ng-invalid ng-dirty"),g("mb-5",!((C=t.registerForm.get("lastName"))!=null&&C.errors&&((C=t.registerForm.get("lastName"))!=null&&C.touched||(C=t.registerForm.get("lastName"))!=null&&C.dirty))),s(),u(11,(F=t.registerForm.get("lastName"))!=null&&F.errors&&((F=t.registerForm.get("lastName"))!=null&&F.touched||(F=t.registerForm.get("lastName"))!=null&&F.dirty)?11:-1),s(),R("ng-invalid ng-dirty"),g("mb-5",!((y=t.registerForm.get("email"))!=null&&y.errors&&((y=t.registerForm.get("email"))!=null&&y.touched||(y=t.registerForm.get("email"))!=null&&y.dirty))),s(),u(13,(w=t.registerForm.get("email"))!=null&&w.errors&&((w=t.registerForm.get("email"))!=null&&w.touched||(w=t.registerForm.get("email"))!=null&&w.dirty)?13:-1),s(),g("mb-5",!((v=t.registerForm.get("password"))!=null&&v.errors&&((v=t.registerForm.get("password"))!=null&&v.touched||(v=t.registerForm.get("password"))!=null&&v.dirty))),l("styleClass","w-full")("toggleMask",!0),s(),u(15,(N=t.registerForm.get("password"))!=null&&N.errors&&((N=t.registerForm.get("password"))!=null&&N.touched||(N=t.registerForm.get("password"))!=null&&N.dirty)?15:-1),s(),g("mb-5",!((b=t.registerForm.get("confirmPassword"))!=null&&b.errors&&((b=t.registerForm.get("confirmPassword"))!=null&&b.touched||(b=t.registerForm.get("confirmPassword"))!=null&&b.dirty))),l("styleClass","w-full")("toggleMask",!0),s(),u(17,(T=t.registerForm.get("confirmPassword"))!=null&&T.errors&&((T=t.registerForm.get("confirmPassword"))!=null&&T.touched||(T=t.registerForm.get("confirmPassword"))!=null&&T.dirty)?17:-1),s(),R("ng-invalid ng-dirty"),g("mb-3",!((P=t.registerForm.get("phone"))!=null&&P.errors&&((P=t.registerForm.get("phone"))!=null&&P.touched||(P=t.registerForm.get("phone"))!=null&&P.dirty))),s(),u(19,(x=t.registerForm.get("phone"))!=null&&x.errors&&((x=t.registerForm.get("phone"))!=null&&x.touched||(x=t.registerForm.get("phone"))!=null&&x.dirty)?19:-1),s(3),l("routerLink",D(40,ae)),s(2),l("type","submit")("loading",t.loading)("disabled",!t.registerForm.valid)}},dependencies:[X,K,Z,H,J,Q,W,ee,Y,te,re,ie,O,ne,oe,B,z],styles:[".register[_ngcontent-%COMP%]{max-width:25.625rem}.register-hasAccount[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:2.5em!important;color:#313131}.register-hasAccount_login[_ngcontent-%COMP%]{color:#4461f2}  .p-inputtext{width:100%!important;font-family:Inter,sans-serif!important;font-weight:500!important}  p-button   .p-button{background:#4461f2!important;padding:1rem 0rem}  p-button   .p-button .p-button-label{font-family:Poppins,sans-serif!important;font-weight:400!important}"]})}}return e})();export{We as RegisterComponent};
