import{a as ve,b as xe,c as F,d as Ie,e as we,f as Fe,g as R,h as Q,i as Me,j as Te,k as Se,l as Ve,m as Ee,n as Le,o as Ae,p as De,q as je,r as Ne,s as Oe,t as Pe,u as qe,v as Be,w as Re}from"./chunk-2USAG3GY.js";import{c as _e,d as Ce,k as B,p as ye,q as ke}from"./chunk-EM3OHNVD.js";import{h as de,i as me,m as q,p as ge,r as he,s as fe,t as be}from"./chunk-2DMQBI2T.js";import"./chunk-Q64FFBLU.js";import{k as le,m as se,n as ce,o as ue,p as pe}from"./chunk-XZZS7UHB.js";import{$ as _,$a as f,Ab as te,Bb as ie,Cb as S,Db as ne,Eb as O,Hb as P,Ib as oe,Ja as l,Ka as h,M as U,Q as W,S as $,Ub as re,Wa as X,Zb as v,_a as p,_b as ae,aa as M,ab as r,ba as z,cb as V,eb as x,fb as I,gb as d,hb as m,ib as u,j as H,ja as C,jb as E,ka as y,kb as L,mb as A,nb as k,oa as K,ob as g,rb as Z,sb as J,ta as T,tb as D,ub as j,vb as N,wb as w,yb as Y,zb as ee}from"./chunk-KRDMLW7E.js";var Ue=["input"],We=(i,s,e,n)=>({"p-checkbox p-component":!0,"p-checkbox-checked":i,"p-checkbox-disabled":s,"p-checkbox-focused":e,"p-variant-filled":n}),$e=(i,s,e)=>({"p-highlight":i,"p-disabled":s,"p-focus":e}),ze=(i,s,e)=>({"p-checkbox-label":!0,"p-checkbox-label-active":i,"p-disabled":s,"p-checkbox-label-focus":e});function Ke(i,s){if(i&1&&u(0,"span",10),i&2){let e=g(3);r("ngClass",e.checkboxIcon),f("data-pc-section","icon")}}function Xe(i,s){i&1&&u(0,"CheckIcon",11),i&2&&(r("styleClass","p-checkbox-icon"),f("data-pc-section","icon"))}function Ze(i,s){if(i&1&&(E(0),p(1,Ke,1,2,"span",8)(2,Xe,1,2,"CheckIcon",9),L()),i&2){let e=g(2);l(),r("ngIf",e.checkboxIcon),l(),r("ngIf",!e.checkboxIcon)}}function Je(i,s){}function Ye(i,s){i&1&&p(0,Je,0,0,"ng-template")}function et(i,s){if(i&1&&(d(0,"span",12),p(1,Ye,1,0,null,13),m()),i&2){let e=g(2);f("data-pc-section","icon"),l(),r("ngTemplateOutlet",e.checkboxIconTemplate)}}function tt(i,s){if(i&1&&(E(0),p(1,Ze,3,2,"ng-container",5)(2,et,2,2,"span",7),L()),i&2){let e=g();l(),r("ngIf",!e.checkboxIconTemplate),l(),r("ngIf",e.checkboxIconTemplate)}}function it(i,s){if(i&1){let e=A();d(0,"label",14),k("click",function(t){C(e);let o=g(),a=N(3);return y(o.onClick(t,a,!0))}),w(1),m()}if(i&2){let e=g();x(e.labelStyleClass),r("ngClass",P(6,ze,e.checked(),e.disabled,e.focused)),f("for",e.inputId)("data-pc-section","label"),l(),Y(" ",e.label,"")}}var nt={provide:ve,useExisting:W(()=>G),multi:!0},G=(()=>{class i{cd;injector;config;value;name;disabled;binary;label;ariaLabelledBy;ariaLabel;tabindex;inputId;style;styleClass;labelStyleClass;formControl;checkboxIcon;readonly;required;autofocus;trueValue=!0;falseValue=!1;variant="outlined";onChange=new T;onFocus=new T;onBlur=new T;inputViewChild;templates;checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;constructor(e,n,t){this.cd=e,this.injector=n,this.config=t}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"icon":this.checkboxIconTemplate=e.template;break}})}onClick(e,n,t){e.preventDefault(),!(this.disabled||this.readonly)&&(this.updateModel(e),t&&n.focus())}updateModel(e){let n,t=this.injector.get(Ie,null,{optional:!0,self:!0}),o=t&&!this.formControl?t.value:this.model;this.binary?(n=this.checked()?this.falseValue:this.trueValue,this.model=n,this.onModelChange(n)):(this.checked()?n=o.filter(a=>!q.equals(a,this.value)):n=o?[...o,this.value]:[this.value],this.onModelChange(n),this.model=n,this.formControl&&this.formControl.setValue(n)),this.onChange.emit({checked:n,originalEvent:e})}handleChange(e){this.readonly||this.updateModel(e)}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(e){this.model=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){setTimeout(()=>{this.disabled=e,this.cd.markForCheck()})}checked(){return this.binary?this.model===this.trueValue:q.contains(this.value,this.model)}static \u0275fac=function(n){return new(n||i)(h(re),h(K),h(he))};static \u0275cmp=M({type:i,selectors:[["p-checkbox"]],contentQueries:function(n,t,o){if(n&1&&Z(o,fe,4),n&2){let a;D(a=j())&&(t.templates=a)}},viewQuery:function(n,t){if(n&1&&J(Ue,5),n&2){let o;D(o=j())&&(t.inputViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:[_.HasDecoratorInputTransform,"disabled","disabled",v],binary:[_.HasDecoratorInputTransform,"binary","binary",v],label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:[_.HasDecoratorInputTransform,"tabindex","tabindex",ae],inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:[_.HasDecoratorInputTransform,"readonly","readonly",v],required:[_.HasDecoratorInputTransform,"required","required",v],autofocus:[_.HasDecoratorInputTransform,"autofocus","autofocus",v],trueValue:"trueValue",falseValue:"falseValue",variant:"variant"},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[S([nt]),X],decls:7,vars:37,consts:[["input",""],[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","pAutoFocus","",3,"change","focus","blur","value","checked","disabled","readonly","autofocus"],[1,"p-checkbox-box",3,"click","ngClass"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"click","ngClass"]],template:function(n,t){if(n&1){let o=A();d(0,"div",1)(1,"div",2)(2,"input",3,0),k("change",function(c){return C(o),y(t.handleChange(c))})("focus",function(c){return C(o),y(t.onInputFocus(c))})("blur",function(c){return C(o),y(t.onInputBlur(c))}),m()(),d(4,"div",4),k("click",function(c){C(o);let b=N(3);return y(t.onClick(c,b,!0))}),p(5,tt,3,2,"ng-container",5),m()(),p(6,it,2,10,"label",6)}n&2&&(x(t.styleClass),r("ngStyle",t.style)("ngClass",oe(28,We,t.checked(),t.disabled,t.focused,t.variant==="filled"||t.config.inputStyle()==="filled")),f("data-pc-name","checkbox")("data-pc-section","root"),l(),f("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),l(),r("value",t.value)("checked",t.checked())("disabled",t.disabled)("readonly",t.readonly)("autofocus",t.autofocus),f("id",t.inputId)("name",t.name)("tabindex",t.tabindex)("required",t.required)("aria-labelledby",t.ariaLabelledBy)("aria-label",t.ariaLabel)("aria-checked",t.checked())("data-pc-section","hiddenInput"),l(2),r("ngClass",P(33,$e,t.checked(),t.disabled,t.focused)),f("data-p-highlight",t.checked())("data-p-disabled",t.disabled)("data-p-focused",t.focused)("data-pc-section","input"),l(),r("ngIf",t.checked()),l(),r("ngIf",t.label))},dependencies:()=>[le,se,ue,ce,_e,B],styles:[`@layer primeng{.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}}
`],encapsulation:2,changeDetection:0})}return i})(),Qe=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=z({type:i});static \u0275inj=$({imports:[pe,Ce,B,be]})}return i})();var rt=()=>({standalone:!0}),at=()=>["/forgot-password"];function lt(i,s){i&1&&u(0,"app-error-message",11),i&2&&r("message","Please enter a valid email address")}function st(i,s){i&1&&u(0,"app-error-message",11),i&2&&r("message","Email is required")}function ct(i,s){if(i&1&&p(0,lt,1,1,"app-error-message",11)(1,st,1,1),i&2){let e,n=g();I(0,!((e=n.loginForm.get("email"))==null||e.errors==null)&&e.errors.email?0:!((e=n.loginForm.get("email"))==null||e.errors==null)&&e.errors.required?1:-1)}}function ut(i,s){i&1&&u(0,"app-error-message",11),i&2&&r("message","Password must be at least 6 characters long and contain at least one letter and one special character")}function pt(i,s){i&1&&u(0,"app-error-message",11),i&2&&r("message","Password is required")}function dt(i,s){if(i&1&&p(0,ut,1,1,"app-error-message",11)(1,pt,1,1),i&2){let e,n=g();I(0,!((e=n.loginForm.get("password"))==null||e.errors==null)&&e.errors.pattern?0:!((e=n.loginForm.get("password"))==null||e.errors==null)&&e.errors.required?1:-1)}}var $t=(()=>{class i{constructor(e,n,t,o){this.router=e,this._ngxAuthApiService=n,this.messageService=t,this._authService=o,this.loginForm=new R({}),this.destroy$=new H,this.rememberMe=!1,this.loading=!1}ngOnInit(){this.loginForm=new R({email:new Q(null,[F.email,F.required]),password:new Q(null,[F.required,F.pattern(/^(?=.*[A-Za-z])(?=.*[@$!%*#?&^_-]).{8,}/)])})}submit(){this.loading=!0,this._ngxAuthApiService.login(this.loginForm.value).pipe(U(this.destroy$)).subscribe({next:e=>{e.message==="success"&&(this.loading=!1,this.messageService.add({severity:"success",summary:"Success",detail:e.message}),setTimeout(()=>{this._authService.saveUserToken(this.rememberMe,e.token),this.router.navigate(["/home"])},2e3))},error:e=>{this.loading=!1,this.messageService.add({severity:"error",summary:"Error",detail:e.error.message})}})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static{this.\u0275fac=function(n){return new(n||i)(h(de),h(Be),h(ge),h(Re))}}static{this.\u0275cmp=M({type:i,selectors:[["app-login"]],standalone:!0,features:[S([]),ne],decls:16,vars:19,consts:[[1,"login","flex","flex-column"],[1,"login-header","mb-5","mt-0"],["position","top-center"],[3,"ngSubmit","formGroup"],[1,"card","flex","w-full","flex-column","justify-content-center"],["type","email","placeholder","Enter Email","pInputText","","formControlName","email",1,"w-full","inter","inter-500"],["formControlName","password","placeholder","Password",3,"styleClass","toggleMask"],[1,"flex","justify-content-between","align-items-start"],["value","true","inputId","rm","label","Remember me",3,"ngModelChange","ngModel","ngModelOptions"],[1,"login-forgot","poppins","poppins-400",3,"routerLink"],["label","Sign in",3,"type","loading","disabled"],[3,"message"]],template:function(n,t){if(n&1&&(d(0,"div",0)(1,"h2",1),w(2,"Sign in"),m(),u(3,"p-toast",2),d(4,"form",3),k("ngSubmit",function(){return t.submit()}),d(5,"div",4),u(6,"input",5),p(7,ct,2,1),u(8,"p-password",6),p(9,dt,2,1),d(10,"div",7)(11,"p-checkbox",8),ie("ngModelChange",function(a){return te(t.rememberMe,a)||(t.rememberMe=a),a}),m(),d(12,"a",9),w(13,"Recover Password ?"),m()(),u(14,"app-button",10),m()(),u(15,"app-register-methods"),m()),n&2){let o,a,c,b;l(4),r("formGroup",t.loginForm),l(2),x("ng-invalid ng-dirty"),V("mb-5",!((o=t.loginForm.get("email"))!=null&&o.errors&&((o=t.loginForm.get("email"))!=null&&o.touched||(o=t.loginForm.get("email"))!=null&&o.dirty))),l(),I(7,(a=t.loginForm.get("email"))!=null&&a.errors&&((a=t.loginForm.get("email"))!=null&&a.touched||(a=t.loginForm.get("email"))!=null&&a.dirty)?7:-1),l(),V("mb-3",!((c=t.loginForm.get("password"))!=null&&c.errors&&((c=t.loginForm.get("password"))!=null&&c.touched||(c=t.loginForm.get("password"))!=null&&c.dirty))),r("styleClass","w-full")("toggleMask",!0),l(),I(9,(b=t.loginForm.get("password"))!=null&&b.errors&&((b=t.loginForm.get("password"))!=null&&b.touched||(b=t.loginForm.get("password"))!=null&&b.dirty)?9:-1),l(2),ee("ngModel",t.rememberMe),r("ngModelOptions",O(17,rt)),l(),r("routerLink",O(18,at)),l(2),r("type","submit")("loading",t.loading)("disabled",!t.loginForm.valid)}},dependencies:[Le,Te,xe,we,Fe,Se,Ve,Ee,Me,De,Ae,Ne,je,Oe,Pe,qe,me,ke,ye,Qe,G],styles:[".login[_ngcontent-%COMP%]{max-width:25.625rem}.login-forgot[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:2.5em!important;text-decoration:none;color:#4461f2}  .p-inputtext{width:100%!important;font-family:Inter,sans-serif!important;font-weight:500!important}"]})}}return i})();export{$t as LoginComponent};
